# Generated by Django 3.2.15 on 2022-09-27 08:14

from django.db import migrations, models
from django.db.models import F
import datetime


def update_begin_end_date(apps, schema_editor):
    TouristicEvent = apps.get_model('tourism', 'TouristicEvent')

    TouristicEvent.objects.filter(
            begin_date__isnull = True
        ).update(
            begin_date = datetime.date(1970, 1 , 1)
        )

    TouristicEvent.objects.filter(
            end_date__isnull = True
        ).update(
            end_date = F('begin_date')
        )


class Migration(migrations.Migration):

    dependencies = [
        ('tourism', '0026_auto_20220907_1400'),
    ]

    operations = [
        migrations.RunPython(update_begin_end_date, reverse_code=migrations.RunPython.noop)
    ]
